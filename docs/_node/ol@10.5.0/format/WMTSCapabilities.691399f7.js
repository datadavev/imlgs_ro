function v(t){const n=D();for(let e=0,i=t.length;e<i;++e)b(n,t[e]);return n}function D(){return[1/0,1/0,-1/0,-1/0]}function b(t,n){n[0]<t[0]&&(t[0]=n[0]),n[0]>t[2]&&(t[2]=n[0]),n[1]<t[1]&&(t[1]=n[1]),n[1]>t[3]&&(t[3]=n[1])}function T(t,n){return S(t,n,[]).join("")}function S(t,n,e){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e.push(t.nodeValue);else{let i;for(i=t.firstChild;i;i=i.nextSibling)S(i,n,e)}return e}function P(t){return"documentElement"in t}function y(t){return new DOMParser().parseFromString(t,"application/xml")}function w(t,n){return function(e,i){const u=t.call(this,e,i);u!==void 0&&i[i.length-1].push(u)}}function l(t,n,e){return function(i,u){const a=t.call(this,i,u);if(a!==void 0){const m=u[u.length-1],$=i.localName;let g;$ in m?g=m[$]:(g=[],m[$]=g),g.push(a)}}}function r(t,n,e){return function(i,u){const a=t.call(this,i,u);if(a!==void 0){const m=u[u.length-1],$=i.localName;m[$]=a}}}function c(t,n,e){e=e!==void 0?e:{};let i,u;for(i=0,u=t.length;i<u;++i)e[t[i]]=n;return e}function F(t,n,e,i){let u;for(u=n.firstElementChild;u;u=u.nextElementSibling){const a=t[u.namespaceURI];if(a!==void 0){const m=a[u.localName];m!==void 0&&m.call(i,u,e)}}}function s(t,n,e,i,u){return i.push(t),F(n,e,i,u),i.pop()}function E(){throw new Error("Unimplemented abstract method.")}let I=class{read(n){if(!n)return null;if(typeof n=="string"){const e=y(n);return this.readFromDocument(e)}return P(n)?this.readFromDocument(n):this.readFromNode(n)}readFromDocument(n){for(let e=n.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}readFromNode(n){E()}};var C=I;const L="http://www.w3.org/1999/xlink";function N(t){return t.getAttributeNS(L,"href")}function O(t){const n=T(t,!1);return R(n)}function R(t){const n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);if(n)return parseFloat(n[1])}function p(t){const n=T(t,!1);return _(n)}function _(t){const n=/^\s*(\d+)\s*$/.exec(t);if(n)return parseInt(n[1],10)}function o(t){return T(t,!1).trim()}const f=[null,"http://www.opengis.net/ows/1.1"],B=c(f,{ServiceIdentification:r(lt),ServiceProvider:r(at),OperationsMetadata:r(ct)});let U=class extends C{constructor(){super()}readFromNode(n){return s({},B,n,[])||null}};const V=c(f,{DeliveryPoint:r(o),City:r(o),AdministrativeArea:r(o),PostalCode:r(o),Country:r(o),ElectronicMailAddress:r(o)}),H=c(f,{Value:l(dt)}),W=c(f,{AllowedValues:r(tt)}),k=c(f,{Phone:r(st),Address:r(Y)}),j=c(f,{HTTP:r(ot)}),G=c(f,{Get:l(it),Post:void 0}),K=c(f,{DCP:r(rt)}),X=c(f,{Operation:ut}),q=c(f,{Voice:r(o),Facsimile:r(o)}),J=c(f,{Constraint:l(nt)}),Z=c(f,{IndividualName:r(o),PositionName:r(o),ContactInfo:r(et)}),z=c(f,{Abstract:r(o),AccessConstraints:r(o),Fees:r(o),Title:r(o),ServiceTypeVersion:r(o),ServiceType:r(o)}),Q=c(f,{ProviderName:r(o),ProviderSite:r(N),ServiceContact:r(ft)});function Y(t,n){return s({},V,t,n)}function tt(t,n){return s({},H,t,n)}function nt(t,n){const e=t.getAttribute("name");if(e)return s({name:e},W,t,n)}function et(t,n){return s({},k,t,n)}function rt(t,n){return s({},j,t,n)}function it(t,n){const e=N(t);if(e)return s({href:e},J,t,n)}function ot(t,n){return s({},G,t,n)}function ut(t,n){const e=t.getAttribute("name"),i=s({},K,t,n);if(!i)return;const u=n[n.length-1];u[e]=i}function ct(t,n){return s({},X,t,n)}function st(t,n){return s({},q,t,n)}function lt(t,n){return s({},z,t,n)}function ft(t,n){return s({},Z,t,n)}function at(t,n){return s({},Q,t,n)}function dt(t,n){return o(t)}var mt=U;const d=[null,"http://www.opengis.net/wmts/1.0"],h=[null,"http://www.opengis.net/ows/1.1"],pt=c(d,{Contents:r(At)});class ht extends C{constructor(){super(),this.owsParser_=new mt}readFromNode(n){let e=n.getAttribute("version");e&&(e=e.trim());let i=this.owsParser_.readFromNode(n);return i?(i.version=e,i=s(i,pt,n,[]),i||null):null}}const $t=c(d,{Layer:l(Mt),TileMatrixSet:l(Dt)}),gt=c(d,{Style:l(bt),Format:l(o),TileMatrixSetLink:l(Pt),Dimension:l(yt),ResourceURL:l(Ft)},c(h,{Title:r(o),Abstract:r(o),WGS84BoundingBox:r(M),BoundingBox:l(Et),Identifier:r(o)})),Tt=c(d,{LegendURL:l(It)},c(h,{Title:r(o),Identifier:r(o)})),wt=c(d,{TileMatrixSet:r(o),TileMatrixSetLimits:r(Ot)}),Nt=c(d,{TileMatrixLimits:w(Rt)}),xt=c(d,{TileMatrix:r(o),MinTileRow:r(p),MaxTileRow:r(p),MinTileCol:r(p),MaxTileCol:r(p)}),vt=c(d,{Default:r(o),Value:l(o)},c(h,{Identifier:r(o)})),A=c(h,{LowerCorner:w(x),UpperCorner:w(x)}),St=c(d,{WellKnownScaleSet:r(o),TileMatrix:l(Lt)},c(h,{SupportedCRS:r(o),Identifier:r(o),BoundingBox:r(M)})),Ct=c(d,{TopLeftCorner:r(x),ScaleDenominator:r(O),TileWidth:r(p),TileHeight:r(p),MatrixWidth:r(p),MatrixHeight:r(p)},c(h,{Identifier:r(o)}));function At(t,n){return s({},$t,t,n)}function Mt(t,n){return s({},gt,t,n)}function Dt(t,n){return s({},St,t,n)}function bt(t,n){const e=s({},Tt,t,n);if(!e)return;const i=t.getAttribute("isDefault")==="true";return e.isDefault=i,e}function Pt(t,n){return s({},wt,t,n)}function yt(t,n){return s({},vt,t,n)}function Ft(t,n){const e=t.getAttribute("format"),i=t.getAttribute("template"),u=t.getAttribute("resourceType"),a={};return e&&(a.format=e),i&&(a.template=i),u&&(a.resourceType=u),a}function M(t,n){const e=s([],A,t,n);if(e.length==2)return v(e)}function Et(t,n){const e=t.getAttribute("crs"),i=s([],A,t,n);if(i.length==2)return{extent:v(i),crs:e}}function It(t,n){const e={};return e.format=t.getAttribute("format"),e.href=N(t),e}function x(t,n){const e=o(t).split(/\s+/);if(!e||e.length!=2)return;const i=+e[0],u=+e[1];if(!(isNaN(i)||isNaN(u)))return[i,u]}function Lt(t,n){return s({},Ct,t,n)}function Ot(t,n){return s([],Nt,t,n)}function Rt(t,n){return s({},xt,t,n)}var _t=ht;export{_t as default};
